---
layout: post
title: 回车与换行的由来
---
#回车与换行的由来
---
## 机械打印机时代: ##

在机械英文打字机上，有一个部件叫“字车”(Carriage)，每打一个单词，“字车”就前进一格。当打满一行字符后，打字者就得推动“字车”到起始位置并新起一行，总共有两个动作：  

1. 向右推动“字车”,将其归位(Carriage Return),把输入点移动到本行的最左边;
2. 将滚筒上的纸向上卷，使输入点向下移动一行（一行有多远，看你往下压多少，纯手动控制...）,以便开始输入下一行(Line Feed).  

一般这两个动作是可以一气呵成的（推+压）,常常简化为return，符号为↵ 。

## 电传打字机时代 ##
在计算机还没有出现之前，有一种叫做电传打字机（Teletype Model 33）的玩意，每秒钟可以打10个字符。但是它有一个问题，就是打完一行打字机自动换行的时候，要用去0.2秒，正好可以打两个字符。要是在这0.2秒里面，又有新的字符传过来，那么这个字符将丢失。 

于是，研制人员想了个办法解决这个问题，就是在每行后面加两个表示结束的字符。
一个叫做“回车”(return)，告诉打字机把打印头定位在左边界；
另一个叫做“换行”(new line)，告诉打字机把纸向下移一行。 

这就是“换行”和“回车”的来历，从它们的英语名字上也可以看出一二。 

## 计算机时代 ##
后来，计算机发明了，这两个概念也就被般到了计算机上。那时，存储器很贵，一些科学家认为在每行结尾加两个字符太浪费了，加一个就可以。于是，就出现了分歧。 

Linux/Unix系统里，每行结尾只有“ <换行> ”，即“\n”； 
Windows/DOS系统里面，每行结尾是“ <换行> <回车> ”，即“\r\n”； 
Mac系统里，每行结尾是“ <回车> ”。"Mac 9及之前版本，是用EOL(End Of Line)字符作为换行符的，OSX及之后，才开始用\n表示换行 "
<table>
	<tr>
		<th>系统类型</th>
		<th>回车换行所用字符</th>
	</tr>
	<tr>
		<td>Linux/Unix</td>
		<td>\n = Newline = 0x0A = 10 = LF =Line Feed = 换行 = Ctrl + J</td>
	</tr>
	<tr>
		<td>Mac</td>
		<td>\r = Return = 0x0D = 13 = CR = Carriage Return = 回车 = Ctrl + M</td>
	</tr>
	<tr>
		<td>Windows/Dos</td>
		<td>\r \n = 0x0D 0x0A = CR LF = 回车 换行</td>
	</tr>
</table>	


一个直接后果是，Unix/Mac系统下的文件在Windows里打开的话，所有文字会变成一行；而Windows里的文件在Unix/Linux下打开的话，在每行的结尾可能会多出一个^M符号。在Mac下打开显示出“^J”

##总结##
换行(\n)就是光标下移一行却不会移到这一行的开头, 
回车(\r)就是回到当前行的开头却不向下移一行. 
Enter键按下后会执行\r\n这样就是我们看到的一般意义的回车了,所以你用16进制文件查看方式看一个文本,就会在行尾发现”\r\n” 
严格地说，↵ 是“回车/return”, Enter是“输入”(将缓冲区的命令输入到计算机中)，现在的键盘上的“回车键”大多会同时标记这两个符号，表明它同时兼具二者的功能，所以大家也就不怎么区分了。
